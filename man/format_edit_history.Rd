% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/edit-history.R
\name{format_edit_history}
\alias{format_edit_history}
\alias{format_edit_history_diffs}
\alias{format_edit_history_before_after}
\alias{format_edit_history_narrative}
\title{Format edit history}
\usage{
format_edit_history(
  edit_history,
  format = c("diffs", "before_after", "narrative"),
  ...
)

format_edit_history_diffs(edit_history)

format_edit_history_before_after(edit_history, context_lines = 1L)

format_edit_history_narrative(edit_history, context_lines = 1L, fence = "```")
}
\arguments{
\item{edit_history}{Character string. The raw unified-diff edit history
from a sample's input.}

\item{format}{One of \code{"diffs"}, \code{"before_after"}, or \code{"narrative"}.}

\item{...}{Additional arguments passed to the format-specific function.}

\item{context_lines}{Integer. Number of context lines to retain around
changes. Used by \code{"before_after"} and \code{"narrative"} formats.}
}
\value{
A single character string with the formatted edit history, or
\code{""} if the input is NULL or empty.
}
\description{
Convert raw unified-diff edit histories into different text formats for
use in NES prompts.

\code{format_edit_history()} dispatches to the appropriate format-specific
function. The format-specific functions can also be called directly.
\itemize{
\item \code{format_edit_history_diffs()} returns the raw edit history with a
standard header.
\item \code{format_edit_history_before_after()} converts each edit into
before/after code blocks, omitting redundant "Before:" sections when
they match the previous edit's "After:".
\item \code{format_edit_history_narrative()} produces a natural-language
description of each edit.
}
}
