% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/load-test.R
\name{completions_load_test}
\alias{completions_load_test}
\title{Replay stored completions at a fixed request rate}
\usage{
completions_load_test(
  completions,
  model = c("qwen3-8b", "zeta"),
  interval = 0.2,
  n = NULL
)
}
\arguments{
\item{completions}{A data frame returned by \code{\link[=completions_read]{completions_read()}} that
contains a \code{request} list-column with the original request bodies.}

\item{model}{One of \code{"qwen3-8b"} or \code{"zeta"}. Determines which Baseten
endpoint to target.}

\item{interval}{Target number of seconds between consecutive requests.
For example, \code{0.2} sends 5 requests per second.}

\item{n}{Number of requests to send. Defaults to \code{nrow(completions)}.
If \code{n} exceeds the number of stored requests, they are recycled.}
}
\value{
Invisibly, a data frame with columns \code{request_index},
\code{scheduled_time}, \code{actual_send_time}, \code{latency}, \code{tokens_input}, and
\code{tokens_output}.
}
\description{
Send previously collected completion requests at a controlled interval.
This is useful for load testing: run against the Qwen3-8B endpoint, then
again against Zeta at the same rate, and compare GPU utilisation on
Baseten.

Requests are dispatched asynchronously using \code{curl}'s multi interface, so
new requests go out on schedule even when previous responses are still
in flight.
}
